@()
<!doctype html>
<html lang="en" data-framework="angular2">
  <head>
    <base href="/app">
    <meta charset="utf-8">
    <title>Angular2 â€¢ TodoMVC</title>
    <link rel="stylesheet" href="@routes.Assets.versioned("lib/todomvc-common/base.css")">
    <link rel="stylesheet" href="/assets/stylesheets/todomvc-app.css">
    <script src='@routes.Assets.versioned("lib/angular2/bundles/angular2-polyfills.js")'></script>
    <script src='@routes.Assets.versioned("lib/systemjs/dist/system.js")'></script>
    <script src='@routes.Assets.versioned("lib/rxjs/bundles/Rx.js")'></script>
    <script src='@routes.Assets.versioned("lib/angular2/bundles/angular2.dev.js")'></script>

    @* if we provide the jvm option -DtsCompileMode=stage to our sbt task our*@
    @*typescript app is compiled to one JS file including the ES6 libraries that our app depends on *@
    @*<script src='@routes.Assets.versioned("main.js")'></script>*@

    @*<script>*@

      @* systemjs will load the module and all it depends on from the main.js file. *@
                @*System.import('app/bootstrap')*@
                        @*.catch(console.error.bind(console));*@

        @*</script>*@

    <script>    @* our app is downloaded as individual javascript files by SystemJs
                after compilation by sbt-typescript*@
                System.config({
                    packages: {
                        'assets/app': {
                            defaultExtension: 'js'
                        },
                        'assets/lib': {
                            defaultExtension: 'js'
                        }
                    },
                    map: {
                        'app' : 'assets/app' @* play standardly publishes our asset files under /assets *@

                        }


                    });
                    @* SystemJs works out which other modules our bootstrap module depends on and will download and load them*@

                System.import('app/bootstrap')
                        .catch(console.error.bind(console));
        </script>

    <script>

      @* systemjs will load the module and all it depends on from the main.js file. *@
                System.import('app/bootstrap')
                        .catch(console.error.bind(console));

        </script>
  </head>
  <body>
    <todo-app></todo-app>
    <footer class="info">
      <p>Basis!</p>
    </footer>
  </body>
</html>
